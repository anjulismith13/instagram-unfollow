# Instagram Engagement Metrics

A personal project for "scraping" Instagram engagement data to analyze.

### Use Case
Many accounts do a "follow for follow" strategy, where they follow accounts so that they follow you back. However, many of those accounts will then mute you (a feature that blocks you from showing up in their feed or story carousel), adding to your follower count, but not your like or comment counts, thus lowering your engagement. For Instagram users hoping to attract brands to work with, a low engagement score is toxic. 

Although Instagram does not allow you to see who has muted you, a strategy for finding "ghost followers" can weed out those who have muted you as well. Ghost followers are accounts that follow you, but don't engage with your posts (through likes or comments). 

Unfortunately, the Instagram API does not provide information on which specific accounts have liked or commented on your posts, so it is impossible to compare a follower list to a list of "likers" solely using the Instagram API. 

### Code Solution

Although the Instagram API does not provide this information, individual users are able to manually view the list of people who have liked a certain post, both in the Instagram app and the Instagram website. 

I tried a variety of methods for pulling this list, from highlighting and copying it to web scrapers. However, the elements of the list are loaded and unloaded dynamically as a user scrolls, so that only the only account information present in the code is those accounts that are currently visible in the modal. This eliminated the possibility of highlighting and copying the list or using a traditional web scraper. 

I got the idea to browse the network requests from this video - https://www.youtube.com/watch?v=oLc_-IeZGiE. 

### Data Collection

For each post I wanted to gather data about, I would open Developer Tools, open the list of likers, and scroll to the bottom of the list. Doing this created network requests that included all of the likers for the post. I could then export the .har file straight from the Network tab. 
--include a diagram--

The list of accounts one follows can be highlighted and copied from the modal (likely because this is information available through the API, so the "safeguard" against web crawlers is not necessary) and the resulting text can be pasted into a .txt file. 

--include a phiti--

### Data Parsing

The .har file could then be treated like a .json file and parsed to pull out the account names. I've included the parsing file I wrote in Python [here](https://github.com/anjulismith13/instagram-unfollow/blob/master/har-parser.py). 
The copy/pasted follower list was much easier to parse than the network requests. Those two lists could then be compared for overlap, with the accounts a user follows that haven't liked any of the user's posts being added to an unfollow.txt file.

I also included functionality for a "whitelist" of accounts that a user wants to keep following, regardless of their engagement with your posts. Each account bound for the unfollow list is compared against the whitelist before being added. 


### Analysis

As most users wouldn't want to automatically unfollow every account that doesn't engage with your posts (you may want to add it to your whitelist), I did not think it wise to automate unfollowing accounts that were generated by the analysis. However, for most users, there end up being hundreds of accounts in the unfollow list, and it becomes tedious to look up every account on the list manually. Thus, I automated opening each account in the unfollow list in a new tab so users could readily view each account's information in each tab and quickly make their decision whether to unfollow them. 

The first time I tried this, Instagram (understandably) temporarily blocked me, because my program tried to open hundreds of Instagram tabs in the same second. Now, tabs are opened at a random interval between 0 and 3 seconds, which doesn't eliminate, but reduces the chance of Instagram viewing the actions as those of a bot. 


### Example

I've included sample data (of following lists, white list, post .har files) for a celebrity's public account (@jenniferaniston).

create a sample data folder
